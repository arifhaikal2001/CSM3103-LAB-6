<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Task2</title>
</head>

<body>
    <h2>Simple Input</h2>

    <div class="row">
        <h4>Enter ID</h4>
        <input type="text" id="inputID">
        
        <h4>Enter Name</h4>
        <input type="text" id="inputName">
        
        <h4>Enter Age</h4>
        <input type="number" id="inputAge">
        
        <br><br>
        
        <button id="btnInsert">Insert Data</button>
    </div>

    <script type="module">
        // Import the functions you need from the SDKs you need
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-app.js";
        import { getAnalytics } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-analytics.js";
        import { getDatabase, ref, set } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-database.js";
        
        // Your web app's Firebase configuration
        const firebaseConfig = {
            apiKey: "AIzaSyBjGwXf-TD11YM5JqJ3_uEeBVPI4DWd15s",
            authDomain: "lab-6-task-2.firebaseapp.com",
            databaseURL: "https://lab-6-task-2-default-rtdb.asia-southeast1.firebasedatabase.app",
            projectId: "lab-6-task-2",
            storageBucket: "lab-6-task-2.appspot.com",
            messagingSenderId: "682378858269",
            appId: "1:682378858269:web:3f3c1a596afc14220ddbf4",
            measurementId: "G-6WMTHKD52Z"
        };

           
        
        // Initialize Firebase
        const app = initializeApp(firebaseConfig);
        const analytics = getAnalytics(app);
        const db = getDatabase(app);

        var inputID = document.querySelector("#inputID");
        var inputName = document.querySelector("#inputName");
        var inputAge = document.querySelector("#inputAge");

        var btnInsert = document.querySelector("#btnInsert");

        btnInsert.addEventListener("click", funInsertData);

        function funInsertData() {
            set(ref(db, "people/" + inputID.value), {
                name: inputName.value,
                ID: inputID.value,
                age: inputAge.value
            })
            .then(() => {
                alert("Data added successfully!");
            })
            .catch((error) => {
                alert("Error: " + error);
            });
        }
    </script>
</body>

</html>